@startuml

class Account {
	- id: int
	- username: string
	- email: string
	- password: string
	- createdAt: DateTime
'-------------------------------
	+ updateUsername()
	+ updateEmail()
	+ updatePassword()
}

class AccountService {
	+ login()
	+ logout()
	+ createAccount()
        + updateUsername()
        + updateEmail()
        + resetPassword()
}

class Task {
	- id: int
	- title: string
	- description: string
	- createdAt: DateTime
	- dueDate: DateTime
	- location: string
'--------------------------------
	+ updateTitle()
	+ updateDescription()
	+ updateDueDate()
	+ updateLocation()
}

class TaskService {
        + createTask()
        + updateTask()
        + completeTask()
        + deleteTask()
}

class Group {
	- id: int
	- name: string
	- description: string
	- createdAt: DateTime
'---------------------------------
	+ updateName()
	+ updateDescription()
}

class GroupService {
	+ createGroup()
	+ updateGroup()
	+ addMember(user: Account, role: Role)
	+ removeMember()
	+ getMembers(): List<GroupMembership>
	+ deleteGroup()
}

class GroupMembership {
	- user: Account
	- group: Group
	- role: Role
	- joinDate: DateTime
'---------------------------------
	+ assignRole()
}

class Invitation {
	- id: int
	- groupID: int
	- inviter: Account
	- invitee: Account
	- invitedAt: DateTime
	- status: InvitationStatus
'---------------------------------
	+ updateStatus()
}

class InvitationService {
	+ sendInvitation()
	+ acceptInvitation()
	+ rejectInvitation()
}

class AuthService {
	- authToken: string
'---------------------------------
	+ authenticateAccount()
	+ generateToken()
	+ validateToken()
	+ hashPassword()
}

enum Role {
        Admin
        Contributor
        Reader
}

enum InvitationStatus {
        SENT
        ACCEPTED
        REJECTED
}

Account "1" -- "1..*" GroupMembership
Group "1" -- "1..*" GroupMembership
Role -->  GroupMembership: assigned 
Account --> GroupMembership: assigns role

Account --> Invitation : sends 
Invitation --> Account : is sent to 
Invitation --> Group : invites to
Group "1" -- "1..*" Invitation

Group "1" -- "*" Task : has
Task "1" -- "1" Group: belongs
Account --> Task : creates 

Account --> Group : creates

Invitation --> InvitationStatus: has status
AuthService --> Account: authenticates

@enduml
