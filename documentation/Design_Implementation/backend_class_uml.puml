@startuml

class User {
	- username: string
	- email: string
	- password: string
	- createdAt: DateTime
'-------------------------------
	+ updateUsername()
	+ updateEmail()
	+ updatePassword()
}

class UserService {
        + createUser()
        + updateUsername()
        + updateEmail()
        + updatePassword()
        + resetPassword()
}

class Task {
	- id: int
	- title: string
	- description: string
	- createdAt: DateTime
	- dueDate: DateTime
	- status: boolean
'--------------------------------
	+ updateTitle()
	+ updateDescription()
	+ updateDueDate()
	+ updateStatus()
}

class TaskService {
        + createTask()
        + updateTask()
        + completeTask()
        + deleteTask()
}

class Group {
	- id: int
	- name: string
	- description: string
	- createdAt: DateTime
	- tasks: List<Task>
'---------------------------------
	+ updateName()
	+ updateDescription()
}

class GroupService {
	+ createGroup()
	+ updateGroup()
	+ addMember(user: User, role: Role)
	+ removeMember()
	+ getMembers(): List<Membership>
	+ deleteGroup()
}

class Membership {
	- id: int
	- user: User
	- group: Group
	- role: Role
	- inviterEmail: string
	- inviteDate: DateTime
	- status: InvitationStatus
	- joinDate: DateTime
'---------------------------------
	+ updateStatus()
}

class MembershipService {
	+ createMembership()
	+ sendInvitation()
	+ acceptInvitation()
	+ rejectInvitation()
}

class AuthService {
	- authToken: string
'---------------------------------
	+ login()
	+ logout()
	+ authenticateUser()
	+ generateToken()
	+ validateToken()
	+ hashPassword()
	+ enforcePasswordPolicy()
}

enum Role {
        Admin
        Contributor
        Reader
}

enum InvitationStatus {
        SENT
        ACCEPTED
        REJECTED
}

User --> TaskService: creates Task via
User --> GroupService: creates Group via
User --> MembershipService: creates Membership via
User "1" *-- "*" Membership: has
AuthService --> User: authenticates
UserService --> User: manages

TaskService --> Task: manages
Task "*" -- "1" Group: belongs to

GroupService --> Group: manages
Group "1" *-- "1..*" Membership: has
Group "1" *-- "*" Task: has

MembershipService --> Membership: manages
Role --> Membership: assigned
InvitationStatus --> Membership: assigned

@enduml
